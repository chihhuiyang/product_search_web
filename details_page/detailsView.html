<html>
  <head>
  </head>
  <body>
    <center>
      <div class="detailsPage table-responsive">
        <h3 class="title">{{name}}</h3>
        <button type="button" class="btn btn-default btn-sm" style="float:left" ng-click="goBack()">
          <i class="material-icons md-18">chevron_left</i>List
        </button>
        <br></br>

        <div class="twitterArea" align="right">
          <span>
            <button class="btn btn-default" id="twitterButton" style="padding:0px" ng-click="openTweetWindow()">
              <img ng-src="http://csci571.com/hw/hw8/Images/facebook.png" style="width:40px; height:40px"/>
            </button>
          </span>
          <button type="button" class="btn btn-default btn-sm" style="width:40px; height:40px; background-color: ghostwhite" ng-click="addToFavorite()">
              <i ng-class="detailWishIconClass">{{shopping_cart}}</i>
            </button>
        </div>

        <div>
          <ul class="nav nav-tabs justify-content-end">
            <li class="nav-item"><a class="nav-link active" data-toggle="tab" data-target="#infoTab">Product</a></li>
            <li class="nav-item" ng-click="requestPhotoApi()"><a class="nav-link" data-toggle="tab" data-target="#photosTab">Photos</a></li>
            <li class="nav-item" ng-click="getMap(); autoComplete()"><a class="nav-link" data-toggle="tab" data-target="#mapTab">Map</a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" data-target="#shippingTab">Shipping</a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" data-target="#sellerTab">Seller</a></li>
            <li class="nav-item" ng-click="requestSimilarApi()"><a class="nav-link" data-toggle="tab" data-target="#reviewsTab">Similar Products</a></li>
            
          </ul>
        </div>


        <div class="tab-content table-responsive">
          <!-- infos tab -->
          <div id="infoTab" class="tab-pane active">
            <table class="table table-dark table-striped">
              <tr ng-if="showProductImg">
                <th>Product Images</th>
                <td>View Product Images Here{{ProductImg}}</td>
              </tr>
              <tr ng-if="showSubtitle">
                <th>Subtitle</th>
                <td>{{subtitle}}</td>
              </tr>
              <tr ng-if="showPrice">
                <th>Price</th>
                <td>${{price}}</td>
              </tr>
              <tr ng-if="showLocation">
                <th>Location</th>
                <td>{{productLocation}}
                  <!-- <div class="star-ratings-css">
                      <div class="star-ratings-css-top" ng-style="{'width': ratingWidth + '%'}">
                        <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                      </div>
                  </div> -->
                </td>
              </tr>
              <tr ng-if="showReturnPolicy">
                <th>Return Policy (US)</th>
                <td>{{returnPolicy}}</td>
                <!-- <td><a ng-href="{{googlePage}}" target="_blank">{{googlePage}}</a></td> -->
              </tr>

              <tr ng-if="showItemSpecifics" ng-repeat="x in itemSpecList">
                  <th>{{x.Name}}</th>
                  <td>{{x.Value[0]}}</td>
              </tr>

              <!-- <tr ng-if="showWebsite">
                <th>Website</th>
                <td><a ng-href="{{website}}" target="_blank">{{website}}</a></td>
              </tr>
              <tr ng-if="showHours">
                <th>Hours</th>
                <td>{{hours}}
                  <a href="" data-toggle="modal" data-target="#myModal">Daily open hours</a>
                </td>
              </tr> -->
            </table>
          </div>
          

          <!-- photos tab -->
          <div id="photosTab" class="tab-pane fade">
            <div class="img_row" ng-if="ifHasPhoto">
              <div class="img_column">
                <a ng-if="photo_arr[0] !== undefined" ng-href="{{photo_arr[0]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[0]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[3] !== undefined" ng-href="{{photo_arr[3]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[3]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[6] !== undefined" ng-href="{{photo_arr[6]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[6]}}" style="width:100%"/></a>
              </div>
              <div class="img_column">
                <a ng-if="photo_arr[1] !== undefined" ng-href="{{photo_arr[1]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[1]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[4] !== undefined" ng-href="{{photo_arr[4]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[4]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[7] !== undefined" ng-href="{{photo_arr[7]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[7]}}" style="width:100%"/></a>                
              </div>
              <div class="img_column">
                <a ng-if="photo_arr[2] !== undefined" ng-href="{{photo_arr[2]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[2]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[5] !== undefined" ng-href="{{photo_arr[5]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[5]}}" style="width:100%"/></a>
              </div>

            </div>
            <div ng-if="!ifHasPhoto">
              <br>
              <p class="noRecords"><font color="#9b8231">  No records.</font></p>
            </div>
          </div>

          <!-- map tab -->
          <div id="mapTab" class="tab-pane fade">
            <div class="detailsPage">
              <form id="mapForm" name="mapForm" method="GET" onsubmit="return false;">
                <div class="form-group row" align="left">
                  <div class="col-md-4">
                    <label for="mapInputLocation">From</label>
                    <input class="form-control" id="mapInputLocation" name="mapInputLocation" type="text" ng-required="true" ng-model="startLocation" ng-value="startLocation" ng-click="autoComplete()"/>
                  </div>
                  <div class="col-md-4">
                    <label for="mapDestination">To</label>
                    <input class="form-control" id="mapDestination" type="text" ng-model="targetDestination" ng-value="targetDestination" ng-disabled="true"/>
                  </div>
                  <div class="col-md-2">
                    <label for="travelMode">Travel Mode</label>
                    <select class="form-control" id="travelModes" name="category">
                      <option value="DRIVING" id="driving">Driving</option>
                      <option value="BICYCLING" id="bicycling">Bicycling</option>
                      <option value="TRANSIT" id="transit">Transit</option>
                      <option value="WALKING" id="walking">Walking</option>
                    </select>
                  </div>
                  <div class="col-md-2">
                    <label></label>
                    <button type="submit" class="btn btn-primary" ng-disabled="checkDisableCondition()" ng-click="calcRoute(); autoComplete()" style="margin-top:25px">Get Directions</button>
                  </div>
                </div>
                <div align="left" style="padding:0px; margin-bottom:5px;" ng-show="showMap">
                  <button class="btn btn-default" id="googleViewButton" style="padding:0px" ng-click="switchMap()">
                    <img src="http://csci571.com/hw/hw8/Images/facebook.png" style="width:40px; height:40px"/>
                  </button>
                </div>
                <div align="left" style="padding:0px; margin-bottom:5px;" ng-show="!showMap">
                  <button class="btn btn-default" id="googleViewButton" style="padding:0px" ng-click="switchMap()">
                    <img src="http://csci571.com/hw/hw8/Images/facebook.png" style="width:40px; height:40px"/>
                  </button>
                </div>
                <div id="googleMap"></div>
                <div id="routeDetails" ng-show="showRouteDetails" align="left"></div>
              </form>
            </div>
          </div>

          <!-- shipping tab -->
          <div id="shippingTab" class="tab-pane fade">
            <table class="table table-dark table-striped">
              <tr ng-if="showShippingCost">
                <th>Shipping Cost</th>
                <td>{{shippingCost}}</td>
              </tr>
              <tr ng-if="showShippingLocation">
                <th>Shipping Locations</th>
                <td>{{shippingLocation}}</td>
              </tr>
              <tr ng-if="showHandlingTime">
                <th>Handling time</th>
                <td>{{handlingTime}}</td>
              </tr>
              <tr ng-if="showExpeditedShipping">
                <th>Expedited Shipping</th>
                <td>{{expeditedShipping}}</td>
              </tr>
              <tr ng-if="showOneDayShipping">
                <th>One Day Shipping</th>
                <td>{{oneDayShipping}}</td>
              </tr>
              <tr ng-if="showReturnAccepted">
                  <th>Return Accepted</th>
                  <td>{{returnAccepted}}</td>
              </tr>
            </table>
          </div>

          <!-- seller tab -->
          <div id="sellerTab" class="tab-pane fade">
            <table class="table table-dark table-striped">
              <tr ng-if="showFeedbackScore">
                <th>Feedback Score</th>
                <td>{{feedbackScore}}</td>
              </tr>
              <tr ng-if="showPopularity">
                <th>Popularity</th>
                <td>{{popularity}}</td>
              </tr>
              <tr ng-if="showFeedbackRatingStar">
                <th>Feedback Rating Star</th>
                <td>{{feedbackRatingStar}}</td>
              </tr>
              <tr ng-if="showTopRated">
                <th>Top Rated</th>
                <td>{{topRated}}</td>
              </tr>
              <tr ng-if="showStoreName">
                <th>Store Name</th>
                <td>{{storeName}}</td>
              </tr>
              <tr ng-if="showBuyProductAt">
                <th>Buy Product At</th>
                <td><a href="{{buyProductAt_url}}" target="_blank">Store</a></td>
                <!-- <td><a href="{{buyProductAt_url}}" onclick="window.open(this.href); return false;" onkeypress="window.open(this.href); return false;">Store</a></td> -->

              </tr>
            </table>
          </div>

          <!-- reviews tab -->
          <div id="reviewsTab" class="tab-pane fade">

            <!-- button -->
            <div class="reviewButtonsArea" align="left" style="margin-top:15px">

              <!-- form-option version -->
              <form class="form-inline">
                <select class="form-control col-md-2" id="simi_option" name="simi_option">
                  <option value="simi_defalt" id="simi_defalt">Default</option>
                  <option value="simi_name" id="simi_name">Product Name</option>
                  <option value="simi_days" id="simi_days">Days Left</option>
                  <option value="simi_price" id="simi_price">Price</option>
                  <option value="simi_cost" id="simi_cost">Shipping Cost</option>
                </select>

                <select class="form-control col-md-2" id="simi_sort" name="simi_sort" style="margin-left:20px;">
                  <option value="simi_ascending" id="simi_ascending">Ascending</option>
                  <option value="simi_descending" id="simi_descending">Descending</option>
                </select>
             </form>

              <!-- dropdown version -->
              <!-- <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" id="reviewButton" type="button" data-toggle="dropdown">{{reviewTypeButtonName}}<span class="caret"></span></button>
                <ul class="dropdown-menu">
                  <li ng-click=""><a>Default</a></li>
                  <li ng-click=""><a>Product Name</a></li>
                  <li ng-click=""><a>Days Left</a></li>
                  <li ng-click=""><a>Price</a></li>
                  <li ng-click=""><a>Shipping Cost</a></li>
                  <li ng-click="showGoogleReviews();"><a>Google Reviews</a></li>
                  <li ng-click="showYelpReviews(); ifHasYelpReviews()"><a>Yelp Reviews</a></li>
                </ul>

                <span class="dropdown" style="margin-left:15px">
                  <button class="btn btn-primary dropdown-toggle" id="reviewButton" type="button" data-toggle="dropdown">{{reviewOrderButtonName}}<span class="caret"></span></button>
                  <ul class="dropdown-menu">
                    <li ng-click=""><a>Ascending</a></li>
                    <li ng-click=""><a>Descending</a></li>
                    <li ng-click="getDefaultOrder()"><a>Default Order</a></li>
                    <li ng-click="getHighestRatingOrder()"><a>Highest Rating</a></li>
                    <li ng-click="getLowestRatingOrder()"><a>Lowest Rating</a></li>
                    <li ng-click="getMostRecentOrder()"><a>Most Recent</a></li>
                    <li ng-click="getLeastRecentOrder()"><a>Least Recent</a></li>
                  </ul>
                </span>

              </div> -->
            
            </div>
            <br>

            <!-- similar table -->
            <div class="similarTable table-responsive">
              <table class="table table-dark similarTable">

                  <tr class="simiBlock" ng-repeat="x in similar_items_arr track by $index">
                    <td style="width: 100px;"><img src='{{x.imageURL}}' height='100px' width='100px'/></td>
                    <td>
	                    <a class="similar_name" href='{{x.viewItemURL}}' target="_blank">{{x.title}}</a>
                    	<p class="similar_price">Price: ${{x.buyItNowPrice.__value__}}</p>
                      <p class="similar_cost">Shipping Cost: ${{x.shippingCost.__value__}}</p>
                      <p class="similar_days">Days Left: {{x.timeLeft}}</p>
                    </td>  
                  </tr>

              </table>
            </div>
            
            <!-- no similar -->
            <div ng-if="!ifHasSimilar">
              <br>
              <p class="noRecords"><font color="#9b8231">  No records.</font></p>
            </div>

            <!-- Google reviews  -->
            <!-- <div id="googleReviews" class="fade-in-out" ng-show="reviewSelection">
              <div class="panel panel-default" ng-repeat="reviewPerson in googleReviewsArr">
                <div class="panel-body">
                  <div class="media">
                    <div class="media-left">
                      <a ng-href="{{reviewPerson.author_url}}" target="_blank">
                        <img ng-src="{{reviewPerson.profile_photo_url}}" class="media-object" style="width:50px"/>
                      </a>
                    </div>
                    <div class="media-body" align="left">
                      <h4 class="media-heading"><font color="#1a6bed"><a ng-href="{{reviewPerson.author_url}}" target="_blank">{{reviewPerson.author_name}}</a></font></h4>
                      <div class="zeroPadding">
                        <span ng-repeat="r in setArray(reviewPerson.rating) track by $index"><i class="glyphicon glyphicon-star reviewStar"></i></span>
                        <span class="reviewTimeBox">{{reviewPerson.newTime}}</span>
                      </div>
                      <p>{{reviewPerson.text}}</p>
                    </div>
                  </div>
                </div>
              </div>

              <div ng-if="!ifHasGoogleReview">
                <br>
                <p class="noRecords"><font color="#9b8231">  No records.</font></p>
              </div>
            </div> -->

            <!-- yelp reviews -->
            <!-- <div id="yelpReviews" class="fade-in-out" ng-show="reviewSelection">
              <div class="panel panel-default" ng-repeat="x in similar_items_arr">
                <div class="panel-body">
                  <div class="media">
                    <div class="media-left">
                      <a ng-href="{{x.url}}" target="_blank">
                        <img ng-src="{{x.user.image_url}}" class="media-object img-circle" style="width:50px;height:50px"/>
                      </a>
                    </div>
                    <div class="media-body" align="left">
                      <h4 class="media-heading"><font color="#1a6bed"><a ng-href="{{x.url}}" target="_blank">{{x.user.name}}</a></font></h4>
                      <div class="zeroPadding">
                        <span ng-repeat="r in setArray(x.rating) track by $index"><i class="glyphicon glyphicon-star reviewStar"></i></span>
                        <span class="reviewTimeBox">{{x.time_created}}</span>
                      </div>
                      <p>{{x.text}}</p>
                    </div>
                  </div>
                </div>
              </div>
              <div ng-if="!ifHasYelpReview">
                <br /><br /><br />
                <p class="noRecords"><font color="#9b8231">  No records.</font></p>
              </div>
            </div> -->
          </div>

        </div>
      </div>
    </center>
    <br></br>
  </body>
</html>
