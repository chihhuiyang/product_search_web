<html>
  <head>
  </head>
  <body>

    <center>
      <div class="detailsPage table-responsive">
        <h3 class="title">{{name}}</h3>
        <button type="button" class="btn btn-default btn-sm" style="float:left" ng-click="backToList()">
          <i class="material-icons md-18">chevron_left</i>List
        </button>
        <br></br>

        <div class="fbArea" align="right">
          <span>
            <button class="btn btn-default" id="fbButton" style="padding:0px" ng-click="openFacebookWindow()">
              <img ng-src="http://csci571.com/hw/hw8/Images/facebook.png" style="width:40px; height:40px"/>
            </button>
          </span>
          <button type="button" class="btn btn-default btn-sm" style="margin-right: 3px; width:40px; height:40px; background-color: ghostwhite" ng-click="addToFavorite()">
            <i ng-class="detailWishIconClass">{{shopping_cart}}</i>
          </button>
        </div>

        <div>
          <ul class="nav nav-tabs justify-content-end">
            <li class="nav-item"><a class="nav-link active" data-toggle="tab" data-target="#infoTab">Product</a></li>
            <li class="nav-item" ng-click="requestPhotoApi()"><a class="nav-link" data-toggle="tab" data-target="#photosTab">Photos</a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" data-target="#shippingTab">Shipping</a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" data-target="#sellerTab">Seller</a></li>
            <li class="nav-item" ng-click="requestSimilarApi()"><a class="nav-link" data-toggle="tab" data-target="#reviewsTab">Similar Products</a></li>
            
          </ul>
        </div>


        <div class="tab-content table-responsive">
          <!-- infos tab -->
          <div id="infoTab" class="tab-pane active">
            <table class="table table-dark table-striped">
              <tr ng-if="showProductImg">
                <th>Product Images</th>
                <td>
                  <a class="viewProductImg" href="" data-toggle="modal" data-target="#myModal">View Product Images Here</a>

                  <!-- The Modal -->
                  <div class="modal" id="myModal">
                    <div class="modal-dialog">
                      <div class="modal-content">
                      
                        <!-- Header -->
                        <div class="modal-header">
                          <h4 class="modal-title">Product Images</h4>   
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        
                        <!-- body -->
                        <div class="modal-body">
                              <div id="demo" class="carousel slide" data-ride="carousel" data-interval="false">

                                <!-- The slideshow -->
                                <div class="carousel_border">
                                  <div class="carousel-inner">
                                        <div class="carousel-item" ng-class="{active:!$index}" ng-repeat="x in ProductImg">
                                          <a href="{{x}}" target="_blank">
                                            <img src="{{x}}" alt=" carousel {{$index}}">
                                          </a>
                                        </div>
                                  </div>
                                </div>

                                <!-- Left and right img -->
                                <a class="carousel-control-prev" data-target="#demo" data-slide="prev">
                                  <span class="carousel-control-prev-icon"></span>
                                </a>
                                <a class="carousel-control-next" data-target="#demo" data-slide="next">
                                  <span class="carousel-control-next-icon"></span>
                                </a>

                              </div>

                        </div>
                        
                        <!-- footer -->
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                        
                      </div>
                    </div>
                  </div>    
                  
                  
                
                </td>
              </tr>
              <tr ng-if="showSubtitle">
                <th>Subtitle</th>
                <td>{{subtitle}}</td>
              </tr>
              <tr ng-if="showPrice">
                <th>Price</th>
                <td>${{price}}</td>
              </tr>
              <tr ng-if="showLocation">
                <th>Location</th>
                <td>{{productLocation}}
                </td>
              </tr>
              <tr ng-if="showReturnPolicy">
                <th>Return Policy (US)</th>
                <td>{{returnPolicy}}</td>
              </tr>

              <tr ng-if="showItemSpecifics" ng-repeat="x in itemSpecList">
                  <th>{{x.Name}}</th>
                  <td>{{x.Value[0]}}</td>
              </tr>
            </table>
          </div>
          

          <!-- photos tab -->
          <div id="photosTab" class="tab-pane fade">
            <div class="img_row" ng-if="b_containPhoto">
              <div class="img_column">
                <a ng-if="photo_arr[0] !== undefined" ng-href="{{photo_arr[0]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[0]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[3] !== undefined" ng-href="{{photo_arr[3]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[3]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[6] !== undefined" ng-href="{{photo_arr[6]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[6]}}" style="width:100%"/></a>
              </div>
              <div class="img_column">
                <a ng-if="photo_arr[1] !== undefined" ng-href="{{photo_arr[1]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[1]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[4] !== undefined" ng-href="{{photo_arr[4]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[4]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[7] !== undefined" ng-href="{{photo_arr[7]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[7]}}" style="width:100%"/></a>                
              </div>
              <div class="img_column">
                <a ng-if="photo_arr[2] !== undefined" ng-href="{{photo_arr[2]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[2]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[5] !== undefined" ng-href="{{photo_arr[5]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[5]}}" style="width:100%"/></a>
              </div>

            </div>
            <div ng-if="!b_containPhoto">
              <br>
              <p class="noRecords"><font color="#af9233">  No records.</font></p>
            </div>
          </div>

          <!-- shipping tab -->
          <div id="shippingTab" class="tab-pane fade">
            <table class="table table-dark table-striped">
              <tr ng-if="showShippingCost">
                <th>Shipping Cost</th>
                <td>{{shippingCost}}</td>
              </tr>
              <tr ng-if="showShippingLocation">
                <th>Shipping Locations</th>
                <td>{{shippingLocation}}</td>
              </tr>
              <tr ng-if="showHandlingTime">
                <th>Handling time</th>
                <td>{{handlingTime}}</td>
              </tr>
              <tr ng-if="showExpeditedShipping && expeditedShipping">
                <th>Expedited Shipping</th>
                <td><i class="material-icons md-18" style="color:green">done</i></td>
              </tr>
              <tr ng-if="showExpeditedShipping && !expeditedShipping">
                  <th>Expedited Shipping</th>
                  <td><i class="material-icons md-18" style="color:red">clear</i></td>
                </tr>
              <tr ng-if="showOneDayShipping && oneDayShipping">
                <th>One Day Shipping</th>
                <td><i class="material-icons md-18" style="color:green">done</i></td>
              </tr>
              <tr ng-if="showOneDayShipping && !oneDayShipping">
                <th>One Day Shipping</th>
                <td><i class="material-icons md-18" style="color:red">clear</i></td>
              </tr>
              <tr ng-if="showReturnAccepted && returnAccepted">
                <th>Return Accepted</th>
                <td><i class="material-icons md-18" style="color:green">done</i></td>
              </tr>
              <tr ng-if="showReturnAccepted && !returnAccepted">
                <th>Return Accepted</th>
                <td><i class="material-icons md-18" style="color:red">clear</i></td>
              </tr>


            </table>
          </div>

          <!-- seller tab -->
          <div id="sellerTab" class="tab-pane fade">
            <table class="table table-dark table-striped">

              <tr ng-if="showUserId">
                <th colspan="2" style="text-align: center; font-size: 22px">{{user_id}}</th>
              </tr>

              <tr ng-if="showFeedbackScore">
                <th>Feedback Score</th>
                <td>{{feedbackScore}}</td>
              </tr>
              <tr ng-if="showPopularity">
                <th>Popularity</th>
                <td>

                  <!-- seller popularity -->
                  <div class="positionRelative">
                    <round-progress
                    max="100"
                    current="popularity"
                    color="#376d33"
                    bgcolor="#fff23f"
                    radius="23"
                    stroke="3"
                    rounded="false"
                    clockwise="false"></round-progress>

                    <div class="pop_value">
                        {{popularity}}
                    </div>
                  </div>


                </td>
              </tr>
              <tr ng-if="showFeedbackRatingStar && overTop">
                <th>Feedback Rating Star</th>
                <td><i class="material-icons md-24 ratingStar" ng-style="{'color': starColor}">stars</i></td>
              </tr>
              <tr ng-if="showFeedbackRatingStar && !overTop">
                <th>Feedback Rating Star</th>
                <td><i class="material-icons md-24 ratingStar" ng-style="{'color': starColor}">star_border</i></td>
              </tr>

              <tr ng-if="showTopRated && topRated">
                <th>Top Rated</th>
                <td><i class="material-icons md-18" style="color:green">done</i></td>
              </tr>
              <tr ng-if="showTopRated && !topRated">
                <th>Top Rated</th>
                <td><i class="material-icons md-18" style="color:red">clear</i></td>
              </tr>              
              <tr ng-if="showStoreName">
                <th>Store Name</th>
                <td>{{storeName}}</td>
              </tr>
              <tr ng-if="showBuyProductAt">
                <th>Buy Product At</th>
                <td><a class="store" href="{{buyProductAt_url}}" target="_blank">Store</a></td>
              </tr>
            </table>
          </div>

          <!-- similar tab -->
          <div id="reviewsTab" class="tab-pane fade">

            <!-- button -->
            <div class="reviewButtonsArea" align="left" style="margin-top:15px">

              <!-- form-option version -->
              <form class="form-inline">
                <select class="form-control col-md-2" id="simi_sort_method_option" ng-model="mySortMethod_option" ng-change="sort()">
                  <option value="simi_defalt">Default</option>
                  <option value="simi_name">Product Name</option>
                  <option value="simi_days">Days Left</option>
                  <option value="simi_price">Price</option>
                  <option value="simi_cost">Shipping Cost</option>
                </select>

                <select class="form-control col-md-2" id="simi_sort_direction_option" style="margin-left:20px;" ng-model="mySortDirection_option" ng-change="sort()">
                  <option value="simi_ascending">Ascending</option>
                  <option value="simi_descending">Descending</option>
                </select>
              </form>
            
            </div>
            <br>

            <!-- similar table -->
            <div class="similarTable table-responsive">
              <table class="table table-dark similarTable">

                  <tr class="simiBlock" ng-repeat="x in similar_items_arr track by $index" ng-if="x.showRow">
                    <td style="width: 150px;"><img src='{{x.imageURL}}' height='150px' width='150px'/></td>
                    <td>
	                    <a class="similar_name" href='{{x.viewItemURL}}' target="_blank">{{x.title}}</a>
                    	<p class="similar_price">Price: ${{x.buyItNowPrice.__value__}}</p>
                      <p class="similar_cost">Shipping Cost: ${{x.shippingCost.__value__}}</p>
                      <p class="similar_days">Days Left: {{x.timeLeft}}</p>
                    </td>  
                  </tr>

              </table>
            </div>

            <!-- show more / show less -->
            <button ng-if="similarItemOverFive" type="button" class="btn btn-dark btn-md" ng-click="showMoreLess()">{{txt_showMoreLess}}</button>
            
            <!-- no similar -->
            <div ng-if="!b_containSimilar">
              <br>
              <p class="noRecords"><font color="#af9233">  No records.</font></p>
            </div>

            <br><br><br>

          </div>

        </div>
      </div>
    </center>
    <br></br>
  </body>
</html>
