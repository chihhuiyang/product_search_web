<html>
  <head>
  </head>
  <body>
    <center>
      <div class="detailsPage table-responsive">
        <h3 class="title">{{name}}</h3>
        <button type="button" class="btn btn-default btn-sm" style="float:left" ng-click="backToList()">
          <i class="material-icons md-18">chevron_left</i>List
        </button>
        <br></br>

        <div class="fbArea" align="right">
          <span>
            <button class="btn btn-default" id="fbButton" style="padding:0px" ng-click="openFacebookWindow()">
              <img ng-src="http://csci571.com/hw/hw8/Images/facebook.png" style="width:40px; height:40px"/>
            </button>
          </span>
          <button type="button" class="btn btn-default btn-sm" style="width:40px; height:40px; background-color: ghostwhite" ng-click="addToFavorite()">
              <i ng-class="detailWishIconClass">{{shopping_cart}}</i>
            </button>
        </div>

        <div>
          <ul class="nav nav-tabs justify-content-end">
            <li class="nav-item"><a class="nav-link active" data-toggle="tab" data-target="#infoTab">Product</a></li>
            <li class="nav-item" ng-click="requestPhotoApi()"><a class="nav-link" data-toggle="tab" data-target="#photosTab">Photos</a></li>
            <li class="nav-item" ng-click="getMap(); autoComplete()"><a class="nav-link" data-toggle="tab" data-target="#mapTab">Map</a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" data-target="#shippingTab">Shipping</a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" data-target="#sellerTab">Seller</a></li>
            <li class="nav-item" ng-click="requestSimilarApi()"><a class="nav-link" data-toggle="tab" data-target="#reviewsTab">Similar Products</a></li>
            
          </ul>
        </div>


        <div class="tab-content table-responsive">
          <!-- infos tab -->
          <div id="infoTab" class="tab-pane active">
            <table class="table table-dark table-striped">
              <tr ng-if="showProductImg">
                <th>Product Images</th>
                <td>
                  <a href="" data-toggle="modal" data-target="#myModal">View Product Images Here</a>

                  <!-- The Modal -->
                  <div class="modal" id="myModal">
                    <div class="modal-dialog">
                      <div class="modal-content">
                      
                        <!-- Modal Header -->
                        <div class="modal-header">
                          <h4 class="modal-title">Product Images</h4>   
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        
                        <!-- Modal body -->
                        <div class="modal-body">
                          <div class="carousel_border">
                            <div id="demo" class="carousel slide" data-interval="2000" data-ride="carousel">


                              <div class="carousel-inner">

                              
<!-- 
                                  <div class="carousel-item active">
                                    <img src="https://i.ebayimg.com/images/g/qboAAOSwo4pYk8Qo/s-l1600.jpg" alt="Los Angeles" >
                                  </div>
                                  <div class="carousel-item">
                                    <img src="http://csci571.com/hw/hw8/Images/facebook.png" alt="Chicago">
                                  </div>
                                  <div class="carousel-item">
                                    <img src="https://i.frg.im/qpkKGTnn/1-coffee-machine-depot-usa-sanremo-renegade-bags.jpg" alt="New York">
                                  </div> -->



                                  <!-- <ol class="carousel-indicators">
                                      <li data-target="#demo" data-ng-repeat="img in ProductImg" data-ng-class="{active : $first}" data-slide-to="{{$index}}"></li>
                                  </ol>
                                  <div class="carousel-inner" role="listbox">
                                      <div class="item" data-ng-repeat="image in ProductImg" data-ng-class="{active : $first}">
                                          <img data-ng-src="{{image}}" alt=" carousel {{$index}}" />
                                      </div>
                                  </div>               -->

                          
                                  <div class="carousel-item" ng-class="{active:!$index}" ng-repeat="x in ProductImg">
                                    <img src="{{x}}" alt=" carousel {{$index}}">
                                  </div>                               

                                
                              </div>


                              <a class="carousel-control-prev" href="#demo" data-slide="prev">
                                <span class="carousel-control-prev-icon"></span>
                              </a>
                              <a class="carousel-control-next" href="#demo" data-slide="next">
                                <span class="carousel-control-next-icon"></span>
                              </a>
                            </div>
                          </div>
                        </div>
                        
                        <!-- Modal footer -->
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                        
                      </div>
                    </div>
                  </div>    
                  
                  
                
                </td>
              </tr>
              <tr ng-if="showSubtitle">
                <th>Subtitle</th>
                <td>{{subtitle}}</td>
              </tr>
              <tr ng-if="showPrice">
                <th>Price</th>
                <td>${{price}}</td>
              </tr>
              <tr ng-if="showLocation">
                <th>Location</th>
                <td>{{productLocation}}
                </td>
              </tr>
              <tr ng-if="showReturnPolicy">
                <th>Return Policy (US)</th>
                <td>{{returnPolicy}}</td>
              </tr>

              <tr ng-if="showItemSpecifics" ng-repeat="x in itemSpecList">
                  <th>{{x.Name}}</th>
                  <td>{{x.Value[0]}}</td>
              </tr>
            </table>
          </div>
          

          <!-- photos tab -->
          <div id="photosTab" class="tab-pane fade">
            <div class="img_row" ng-if="b_containPhoto">
              <div class="img_column">
                <a ng-if="photo_arr[0] !== undefined" ng-href="{{photo_arr[0]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[0]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[3] !== undefined" ng-href="{{photo_arr[3]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[3]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[6] !== undefined" ng-href="{{photo_arr[6]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[6]}}" style="width:100%"/></a>
              </div>
              <div class="img_column">
                <a ng-if="photo_arr[1] !== undefined" ng-href="{{photo_arr[1]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[1]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[4] !== undefined" ng-href="{{photo_arr[4]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[4]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[7] !== undefined" ng-href="{{photo_arr[7]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[7]}}" style="width:100%"/></a>                
              </div>
              <div class="img_column">
                <a ng-if="photo_arr[2] !== undefined" ng-href="{{photo_arr[2]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[2]}}" style="width:100%"/></a>
                <a ng-if="photo_arr[5] !== undefined" ng-href="{{photo_arr[5]}}" target="_blank"><img class="googlePhoto" ng-src="{{photo_arr[5]}}" style="width:100%"/></a>
              </div>

            </div>
            <div ng-if="!b_containPhoto">
              <br>
              <p class="noRecords"><font color="#af9233">  No records.</font></p>
            </div>
          </div>

          <!-- shipping tab -->
          <div id="shippingTab" class="tab-pane fade">
            <table class="table table-dark table-striped">
              <tr ng-if="showShippingCost">
                <th>Shipping Cost</th>
                <td>{{shippingCost}}</td>
              </tr>
              <tr ng-if="showShippingLocation">
                <th>Shipping Locations</th>
                <td>{{shippingLocation}}</td>
              </tr>
              <tr ng-if="showHandlingTime">
                <th>Handling time</th>
                <td>{{handlingTime}}</td>
              </tr>
              <tr ng-if="showExpeditedShipping && expeditedShipping">
                <th>Expedited Shipping</th>
                <td><i class="material-icons md-18" style="color:green">done</i></td>
              </tr>
              <tr ng-if="showExpeditedShipping && !expeditedShipping">
                  <th>Expedited Shipping</th>
                  <td><i class="material-icons md-18" style="color:red">clear</i></td>
                </tr>
              <tr ng-if="showOneDayShipping && oneDayShipping">
                <th>One Day Shipping</th>
                <td><i class="material-icons md-18" style="color:green">done</i></td>
              </tr>
              <tr ng-if="showOneDayShipping && !oneDayShipping">
                <th>One Day Shipping</th>
                <td><i class="material-icons md-18" style="color:red">clear</i></td>
              </tr>
              <tr ng-if="showReturnAccepted && returnAccepted">
                <th>Return Accepted</th>
                <td><i class="material-icons md-18" style="color:green">done</i></td>
              </tr>
              <tr ng-if="showReturnAccepted && !returnAccepted">
                <th>Return Accepted</th>
                <td><i class="material-icons md-18" style="color:red">clear</i></td>
              </tr>


            </table>
          </div>

          <!-- seller tab -->
          <div id="sellerTab" class="tab-pane fade">
            <table class="table table-dark table-striped">
              <tr ng-if="showFeedbackScore">
                <th>Feedback Score</th>
                <td>{{feedbackScore}}</td>
              </tr>
              <tr ng-if="showPopularity">
                <th>Popularity</th>
                <td>


                  <div class="positionRelative">
                    <round-progress
                    max="100"
                    current="popularity"
                    color="#376d33"
                    bgcolor="#fff23f"
                    radius="23"
                    stroke="3"
                    rounded="false"
                    clockwise="false"></round-progress>

                    <div class="pop_value">
                        {{popularity}}
                    </div>
                  </div>


                </td>
              </tr>
              <tr ng-if="showFeedbackRatingStar && overTop">
                <th>Feedback Rating Star</th>
                <td><i class="material-icons md-18" ng-style="{'color': starColor}">stars</i></td>
              </tr>
              <tr ng-if="showFeedbackRatingStar && !overTop">
                <th>Feedback Rating Star</th>
                <td><i class="material-icons md-18" ng-style="{'color': starColor}">star_border</i></td>
              </tr>

              <tr ng-if="showTopRated && topRated">
                <th>Top Rated</th>
                <td><i class="material-icons md-18" style="color:green">done</i></td>
              </tr>
              <tr ng-if="showTopRated && !topRated">
                <th>Top Rated</th>
                <td><i class="material-icons md-18" style="color:red">clear</i></td>
              </tr>              
              <tr ng-if="showStoreName">
                <th>Store Name</th>
                <td>{{storeName}}</td>
              </tr>
              <tr ng-if="showBuyProductAt">
                <th>Buy Product At</th>
                <td><a href="{{buyProductAt_url}}" target="_blank">Store</a></td>
                <!-- <td><a href="{{buyProductAt_url}}" onclick="window.open(this.href); return false;" onkeypress="window.open(this.href); return false;">Store</a></td> -->

              </tr>
            </table>
          </div>

          <!-- similar tab -->
          <div id="reviewsTab" class="tab-pane fade">

            <!-- button -->
            <div class="reviewButtonsArea" align="left" style="margin-top:15px">

              <!-- form-option version -->
              <form class="form-inline">
                <select class="form-control col-md-2" id="simi_option" name="simi_option">
                  <option value="simi_defalt" id="simi_defalt">Default</option>
                  <option value="simi_name" id="simi_name">Product Name</option>
                  <option value="simi_days" id="simi_days">Days Left</option>
                  <option value="simi_price" id="simi_price">Price</option>
                  <option value="simi_cost" id="simi_cost">Shipping Cost</option>
                </select>

                <select class="form-control col-md-2" id="simi_sort" name="simi_sort" style="margin-left:20px;">
                  <option value="simi_ascending" id="simi_ascending">Ascending</option>
                  <option value="simi_descending" id="simi_descending">Descending</option>
                </select>
             </form>

              <!-- dropdown version -->
              <!-- <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" id="reviewButton" type="button" data-toggle="dropdown">{{reviewTypeButtonName}}<span class="caret"></span></button>
                <ul class="dropdown-menu">
                  <li ng-click=""><a>Default</a></li>
                  <li ng-click=""><a>Product Name</a></li>
                  <li ng-click=""><a>Days Left</a></li>
                  <li ng-click=""><a>Price</a></li>
                  <li ng-click=""><a>Shipping Cost</a></li>
                  <li ng-click="showGoogleReviews();"><a>Google Reviews</a></li>
                  <li ng-click="showYelpReviews(); ifHasYelpReviews()"><a>Yelp Reviews</a></li>
                </ul>

                <span class="dropdown" style="margin-left:15px">
                  <button class="btn btn-primary dropdown-toggle" id="reviewButton" type="button" data-toggle="dropdown">{{reviewOrderButtonName}}<span class="caret"></span></button>
                  <ul class="dropdown-menu">
                    <li ng-click=""><a>Ascending</a></li>
                    <li ng-click=""><a>Descending</a></li>
                    <li ng-click="getDefaultOrder()"><a>Default Order</a></li>
                    <li ng-click="getHighestRatingOrder()"><a>Highest Rating</a></li>
                    <li ng-click="getLowestRatingOrder()"><a>Lowest Rating</a></li>
                    <li ng-click="getMostRecentOrder()"><a>Most Recent</a></li>
                    <li ng-click="getLeastRecentOrder()"><a>Least Recent</a></li>
                  </ul>
                </span>

              </div> -->
            
            </div>
            <br>

            <!-- similar table -->
            <div class="similarTable table-responsive">
              <table class="table table-dark similarTable">

                  <tr class="simiBlock" ng-repeat="x in similar_items_arr track by $index" ng-if="x.showRow">
                    <td style="width: 150px;"><img src='{{x.imageURL}}' height='150px' width='150px'/></td>
                    <td>
	                    <a class="similar_name" href='{{x.viewItemURL}}' target="_blank">{{x.title}}</a>
                    	<p class="similar_price">Price: ${{x.buyItNowPrice.__value__}}</p>
                      <p class="similar_cost">Shipping Cost: ${{x.shippingCost.__value__}}</p>
                      <p class="similar_days">Days Left: {{x.timeLeft}}</p>
                    </td>  
                  </tr>

              </table>
            </div>

            <!-- show more / show less -->
            <button ng-if="similarItemOverFive" type="button" class="btn btn-dark btn-md" ng-click="showMoreLess()">{{txt_showMoreLess}}</button>
            
            <!-- no similar -->
            <div ng-if="!b_containSimilar">
              <br>
              <p class="noRecords"><font color="#af9233">  No records.</font></p>
            </div>

            <br><br><br>

            <!-- Google reviews  -->
            <!-- <div id="googleReviews" class="fade-in-out" ng-show="reviewSelection">
              <div class="panel panel-default" ng-repeat="reviewPerson in googleReviewsArr">
                <div class="panel-body">
                  <div class="media">
                    <div class="media-left">
                      <a ng-href="{{reviewPerson.author_url}}" target="_blank">
                        <img ng-src="{{reviewPerson.profile_photo_url}}" class="media-object" style="width:50px"/>
                      </a>
                    </div>
                    <div class="media-body" align="left">
                      <h4 class="media-heading"><font color="#1a6bed"><a ng-href="{{reviewPerson.author_url}}" target="_blank">{{reviewPerson.author_name}}</a></font></h4>
                      <div class="zeroPadding">
                        <span ng-repeat="r in setArray(reviewPerson.rating) track by $index"><i class="glyphicon glyphicon-star reviewStar"></i></span>
                        <span class="reviewTimeBox">{{reviewPerson.newTime}}</span>
                      </div>
                      <p>{{reviewPerson.text}}</p>
                    </div>
                  </div>
                </div>
              </div>

              <div ng-if="!ifHasGoogleReview">
                <br>
                <p class="noRecords"><font color="#af9233">  No records.</font></p>
              </div>
            </div> -->

            <!-- yelp reviews -->
            <!-- <div id="yelpReviews" class="fade-in-out" ng-show="reviewSelection">
              <div class="panel panel-default" ng-repeat="x in similar_items_arr">
                <div class="panel-body">
                  <div class="media">
                    <div class="media-left">
                      <a ng-href="{{x.url}}" target="_blank">
                        <img ng-src="{{x.user.image_url}}" class="media-object img-circle" style="width:50px;height:50px"/>
                      </a>
                    </div>
                    <div class="media-body" align="left">
                      <h4 class="media-heading"><font color="#1a6bed"><a ng-href="{{x.url}}" target="_blank">{{x.user.name}}</a></font></h4>
                      <div class="zeroPadding">
                        <span ng-repeat="r in setArray(x.rating) track by $index"><i class="glyphicon glyphicon-star reviewStar"></i></span>
                        <span class="reviewTimeBox">{{x.time_created}}</span>
                      </div>
                      <p>{{x.text}}</p>
                    </div>
                  </div>
                </div>
              </div>
              <div ng-if="!ifHasYelpReview">
                <br /><br /><br />
                <p class="noRecords"><font color="#af9233">  No records.</font></p>
              </div>
            </div> -->
          </div>

        </div>
      </div>
    </center>
    <br></br>
  </body>
</html>
